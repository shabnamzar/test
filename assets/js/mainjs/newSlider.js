!function (f) { f.fn.responsiveGallery = function (e) { var t = f(".responsiveGallery-wrapper li").length, n = f.extend({}, f.fn.responsiveGallery.defaults, e), o = this, l = o.find("li"), r = l.length, u = !0, c = 0; function v(e, n, t, i, r, a) { return { "-webkit-transform": "translateX(" + e + ") translateZ(" + n + "px) rotateY(" + t + "deg)", "-moz-transform": "translateX(" + e + ") translateZ(" + n + "px) rotateY(" + t + "deg)", "-o-transform": "translateX(" + e + ") translateZ(" + n + "px) rotateY(" + t + "deg)", "-ms-transform": "translateX(" + e + ") translateZ(" + n + "px) rotateY(" + t + "deg)", transform: "translateX(" + e + ") translateZ(" + n + "px) rotateY(" + t + "deg)", "z-index": i, opacity: r, visibility: a } } function i(e) { var n = []; n[0] = l.eq(c - 1), e(0, n[0]); for (var t = 1; t <= 4; t++) { var i = c + t - 1; r <= i && (i -= r), n[t] = l.eq(i), e(t, n[t]) } } function d(e) { isAnimating = !0, c = e, f("#dots li").removeClass("current"), f("#dots").find("li:eq(" + (t - 1 - c) + ")").addClass("current"); var n = c + 1; t - 1 < n && (n = 0), o.width() <= 500 && --n, f(".responsiveGallery-wrapper li").removeClass("active"), f(".responsiveGallery-wrapper").find("li:eq(" + n + ")").addClass("active"), i(function (e, n) { n.css(rgTansCSS[e]) }), setTimeout(function () { isAnimating = !1 }, animatDuration) } rgShowCount = 3, rgTansCSS = [], animatDuration = n.animatDuration, isAnimating = !0, touchX = 0, n.$btn_next.on("click", function (e) { isAnimating || d(1) }), n.$btn_prev.on("click", function (e) { isAnimating || d(-1) }), o.on("touchstart", function (e) { var n = e.originalEvent.touches[0]; touchX = n.pageX }).on("touchend touchcancel", function (e) { var n = (e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]).pageX - touchX; 0 < n && d(0 != c ? c - 1 : t), n < 0 && d(c != t - 1 ? c + 1 : 0) }), f(window).on("resize", function (e) { l.removeAttr("style"); var n, t, i, r = o.width(), a = l.eq(0).width(), s = l.eq(0).height(); if (rgShowCount = Math.round(r / a), 500 < r && (n = r / 2 - a, f(".responsiveGallery-item").css("left", n.toString() + "px")), r < 992 && f(".responsiveGallery-item .responsivGallery-pic").css("height", s.toString()), f(".responsiveGallery-wrapper").css("height", s + 20), f(".responsiveGallery-item .w-responsivGallery-info .backg").css("height", s.toString()), 1 === rgShowCount) rgTansCSS = (u && (i = [v("-100%", -300, 45, 0, 0, "hidden"), v("0%", 0, 0, 2, 1, "visible"), v("100%", -300, -45, 0, 0, "hidden")]), i); else { if (3 !== rgShowCount && 2 !== rgShowCount) return; rgTansCSS = (u && (t = [v("-100%", -400, 0, 0, 0, "hidden"), v("-67%", -300, 0, 1, 1, "visible"), v("50%", 0, 0, 2, 1, "visible"), v("167%", -300, 0, 1, 1, "visible"), v("200%", -400, 0, 0, 0, "hidden")]), t) } c = 0, 500 < r && d(0), setTimeout(function () { var e, n; l.css({ "-webkit-transition": "all " + (e = animatDuration / 1e3) + "s " + (n = "ease-in-out"), "-moz-transition": "all " + e + "s " + n, "-ms-transition": "all " + e + "s " + n, "-o-transition": "all " + e + "s " + n, transition: "all " + e + "s " + n }) }, 10) }).trigger("resize"), t = f(".responsiveGallery-wrapper li").length; for (var a = 1; a <= t - 2; a++)f("#dots").prepend(" <li></li>"), a == t - 2 && d(0); function s() { var e = f("#dots li.current").index(); e < t - 1 ? e += 1 : e = 0, function (e) { isAnimating = !0, c = e, f("#dots li").removeClass("current"), f("#dots").find("li:eq(" + c + ")").addClass("current"); var n = c + 1; t - 1 < n && (n = 0), f(".responsiveGallery-wrapper li").removeClass("active"), f(".responsiveGallery-wrapper").find("li:eq(" + n + ")").addClass("active"), i(function (e, n) { n.css(rgTansCSS[e]) }), setTimeout(function () { isAnimating = !1 }, animatDuration) }(e) } var p = setInterval(function () { s() }, 4e3); return f(".responsiveGallery-wrapper").mouseover(function () { clearInterval(p) }).mouseout(function () { p = setInterval(function () { s() }, 4e3) }), f("#dots li").bind("click", function () { var e = f(this).index(), n = t - 1 - e; f("#dots li.current").index(); f("#dots li").removeClass("current"), f(this).addClass("current"), d(n) }), this }, f.fn.responsiveGallery.defaults = { animatDuration: 400, $btn_prev: f(".responsiveGallery-btn_prev"), $btn_next: f(".responsiveGallery-btn_next") } }(jQuery);